<!DOCTYPE html>
<html>
<head>
	<title></title>



</head>
<body>




</div>



<script>


	var element = document.createElement('div');
	element.setAttribute('id', 'rect');
	element.style.width = '100px';
	element.style.height = '100px';
	element.style.position = 'absolute';
	element.style.border = '1px solid green';
	element.style.backgroundColor = 'rgb(0, 220, 0)';
	element.style.top = 0;
	element.style.left = 0;

	document.body.appendChild(element);




	var left = parseInt(getComputedStyle(element).left, 10);
		//var htmlTop = parseInt(getComputedStyle(element).top, 10);

	var width = parseInt(getComputedStyle(element).width, 10),
		height = parseInt(getComputedStyle(element).height, 10);





	function animateObject(obj) {

		var screenWidth = document.documentElement.clientWidth;
		var screenHeight = document.documentElement.clientHeight;

		left += 10;
		//htmlTop +=5;
		

		var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||
	    							window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;


		if (left > screenWidth) {
			left = - width;
			//htmlTop += height;
		};

/*		if (htmlTop > screenHeight) {
			htmlTop = -height;
		};
*/
		element.style.left = left + "px";
		//element.style.top = htmlTop + "px";

		requestAnimationFrame(animateObject);
	};
	animateObject(element);



	/*
		var elem = document.getElementById("rect"),
		left = 0,
		timer;

		timer = setInterval(function() {
			
			if ( left < 400 ) {
				elem.style.left = ( left += 10 ) + "px";
			}

			if ( left > 400 ) {
				//clearInterval( timer );
				elem.style.left = ( right += 100 ) + "px";
			}


		}, 1000/30);
*/






/*   rect.onclick = function() {
      var start = Date.now(); // сохранить время начала

      var timer = setInterval(function() {
        // вычислить сколько времени прошло из opts.duration
        var timePassed = Date.now() - start;

        rect.style.left = timePassed / 5 + 'px';

        if (timePassed > 2000) clearInterval(timer);

      }, 20);
}*/



/*   rect.onclick = function() {
      animate(function(timePassed) {
        rect.style.left = timePassed / 5 + 'px';
      }, 1000);
    };

    // Рисует функция draw
    // Продолжительность анимации duration
    function animate(draw, duration) {
      var start = performance.now();

      requestAnimationFrame(function animate(time) {
        // определить, сколько прошло времени с начала анимации
        var timePassed = time - start;

        console.log(time, "  ", start)
        console.log(timePassed)
          // возможно небольшое превышение времени, в этом случае зафиксировать конец
        if (timePassed > duration) timePassed = duration;

        // нарисовать состояние анимации в момент timePassed
        draw(timePassed);

        // если время анимации не закончилось - запланировать ещё кадр
        if (timePassed < duration) {
          requestAnimationFrame(animate);
        }

      });
console.log();

    }


    */






  </script>

  <!-- add LiveReload function -->
  <script>
  	document.write('<script src="http://' + (location.host || 'localhost')
  		.split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')
  </script>


</body>
</html>